
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="Data C88C: Computational Structures in Data Science" />
    <meta name="keywords" content ="Computer Science, Programming, Berkeley, EECS" />
    <meta name="author" content ="Eric Kim" />
    <!-- CHANGED CAREFUL -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/su25/assets/js/hl.js"></script>
    <script src="/su25/assets/js/toggledarkmode.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="/su25/assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="/su25/assets/css/style.css">
    <link rel="stylesheet" href="/su25/assets/css/mono-blue.css">
    <link rel="icon" href="/su25/assets/images/favicon.ico">

    
    
    <link rel="stylesheet" href="/su25/assets/css/lab.css">


    <title>
Lab 5: Tree Recursion | Data C88C Summer 2025
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section" aria-label="Toggle Navigation Bar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/su25/">
            Data C88C
            <!-- <img style="max-width:60px; margin-top: -20px;" class="logo" src="/assets/images/logo.png"/> -->
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">

            
            <li><a href="/su25/">Schedule</a></li>
            
            <li><a href="/su25/articles/about-c88c/">Syllabus</a></li>
            
            <li><a href="https://edstem.org/us/courses/79702/discussion/">Ed</a></li>
            
            <li><a href="/su25/office-hours/">Google Calendar</a></li>
            
            <li><a href="/su25/articles/contact-c88c/">Contact</a></li>
            

            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="https://www.gradescope.com/courses/1053326">Gradescope</a></li>
                
                <li><a href="https://bcourses.berkeley.edu/courses/1545181/external_tools/90481">Lecture Recordings</a></li>
                
                <li><a href="https://pythontutor.com/cp/composingprograms.html">Python Tutor</a></li>
                
                <li><a href="https://bcourses.berkeley.edu/courses/1545181/">bCourses</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/su25/resources/">Past Exams & Websites</a></li>
                
                <li><a href="https://www.composingprograms.com">Textbook</a></li>
                
                <li><a href="https://drive.google.com/file/d/1O72u0ml65pibcjz-PXKpqeJDKaVqQ3D8/view">Debugging Guide</a></li>
                
                <li><a href="/su25/articles/studying/">Studying Guide</a></li>
                
                <li><a href="/su25/articles/composition/">Composition Guide</a></li>
                
                <li><a href="/su25/articles/campus-res/">Campus Resources</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/su25/instructor">Instructors</a></li>
                
                <li><a href="/su25/staff">TAs & Tutors</a></li>
                
              </ul>
            </li>
            

          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Lab 5: Tree Recursion

        
        
        <ul class="inline-block list-inline">
          <li><a href="lab05.zip" class="label label-outline">lab05.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    

<p><i>Due by 11:59pm on Sunday, July 13.</i></p>






<h2 id='starter-files'>Starter Files</h2>

<p>Download <a href="lab05.zip">lab05.zip</a>.</p>








    
<h2 id="topics">Topics</h2>


<p>Consult this section if you need a refresher on the material for this lab. It's
okay to skip directly to <a href="#required-questions">the questions</a> and refer back
here should you get stuck.</p>


        <button id='toggle-1' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Tree Recursion<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">


<h2 id="tree-recursion" class="no-toc">Tree Recursion</h2>


<p>A tree recursive function is a recursive function that makes more than one call to itself, resulting in a tree-like series of calls.</p>

<p>For example, this is the <a href="https://en.wikipedia.org/wiki/Fibonacci_number">Virahanka-Fibonacci</a> sequence:
<code>0, 1, 1, 2, 3, 5, 8, 13, ...</code>.</p>

<p>Each term is the sum of the previous two terms. This tree-recursive function calculates the <code>n</code>th Virahanka-Fibonacci number.</p>

<pre><code>def virfib(n):
    if n == 0 or n == 1:
        return n
    return virfib(n &#x2d; 1) + virfib(n &#x2d; 2)</code></pre>

<p>Calling <code>virfib(6)</code> results in a call structure that resembles
an upside-down tree (where <code>f</code> is <code>virfib</code>):</p>

<p><img class="img-responsive center-block" src="assets/f6-call-tree.png" alt="Virahanka-Fibonacci tree." title="Virahanka-Fibonacci Tree" width="" height=""></p>

<p>Each recursive call <code>f(i)</code> makes a call to <code>f(i&#x2d;1)</code> and a call to <code>f(i&#x2d;2)</code>.
Whenever we reach an <code>f(0)</code> or <code>f(1)</code> call, we can directly return <code>0</code> or <code>1</code>
without making more recursive calls. These calls are our base cases.</p>

<p>A base case returns an answer without depending on the results of other calls.
Once we reach a base case, we can go back and answer the
recursive calls that led to the base case.</p>

<p>As we will see, tree recursion is often effective for problems with branching choices.
In these problems, you make a recursive call for each branching choice.</p>

</div>


        <button id='toggle-2' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Examples<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-2">


<h2 id="examples" class="no-toc">Examples</h2>


<!--
Generally, tree recursion is effective when we want to explore multiple
possibilities or choices at a single step.
In these types of problems, you make a recursive call for each choice or
for a group of choices.
-->

<p>Here are some examples of tree-recursive problems:</p>

<ul>
  <li>Given a list of paid tasks and a limited amount of time,
  which tasks should you choose to maximize your pay?
  This is actually a variation of the
  <a href="https://en.wikipedia.org/wiki/Knapsack_problem">Knapsack</a>
  problem, which focuses on finding some optimal combination of items.</li>
  <li>Suppose you are lost in a maze and see several different paths.
  How do you find your way out?
  This is an example of path finding, and is tree recursive because at
  every step, you could have multiple directions to choose from that could
  lead out of the maze.</li>
  <li>Your dryer costs $2 per cycle and accepts all types of coins.
  How many different combinations of coins can you create to run the dryer?
  This is similar to the
  <a href="https://www.composingprograms.com/pages/17-recursive-functions.html#example-partitions">partitions</a>
  problem from the textbook.</li>
</ul>

</div>

<br>


<h1 id="required-questions">Required Questions</h1>



<h3 id="q1-fibonacci">Q1: Fibonacci</h3>


<p>Write the fibonacci function using tree recursion.
The function should take in <code>n</code> and return the nth
fibonacci number.</p>

<p>As a reminder, Fibonacci is defined as a function where:</p>

<p><img class="img-responsive center-block" src="https://upload.wikimedia.org/math/0/c/e/0cebc512d9a3ac497eda6f10203f792e.png" alt="Fibonacci Tree" title="Fibonnaci Tree" width="" height=""></p>

<solution>

<pre><code>def fibonacci(n):
    &quot;&quot;&quot;Return the nth fibonacci number.

    &gt;&gt;&gt; fibonacci(11)
    89
    &gt;&gt;&gt; fibonacci(5)
    5
    &gt;&gt;&gt; fibonacci(0)
    0
    &gt;&gt;&gt; fibonacci(1)
    1
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q fibonacci<button id="copy-code-python3ok-qfibonacci" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qfibonacci").onclick = () => copyCode('python3 ok -q fibonacci', "copy-code-python3ok-qfibonacci");
        </script>
        <br/>


<h3 id="q2-insect-combinatorics">Q2: Insect Combinatorics</h3>


<p>Consider an insect in an <em>M</em> by <em>N</em> grid. The insect starts at the
bottom left corner, <em>(1, 1)</em>, and wants to end up at the top right
corner, <em>(M, N)</em>. The insect is only capable of moving right or
up. Write a function <code>paths</code> that takes a grid length and width
and returns the number of different paths the insect can take from the
start to the goal. (There is a <a href="https://en.wikipedia.org/wiki/Closed-form_expression">closed-form solution</a> to this problem,
but try to answer it procedurally using recursion.)</p>

<p><img class="img-responsive center-block" src="assets/grid.jpg" alt="grid" width="" height=""></p>

<p>For example, the 2 by 2 grid has a total of two ways for the insect to
move from the start to the goal. For the 3 by 3 grid, the insect has 6
diferent paths (only 3 are shown above).</p>

<blockquote><p><strong>Hint:</strong> What happens if we hit the top or rightmost edge?</p></blockquote>

<solution>

<pre><code>def paths(m, n):
    &quot;&quot;&quot;Return the number of paths from one corner of an
    M by N grid to the opposite corner.

    &gt;&gt;&gt; paths(2, 2)
    2
    &gt;&gt;&gt; paths(5, 7)
    210
    &gt;&gt;&gt; paths(117, 1)
    1
    &gt;&gt;&gt; paths(1, 157)
    1
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q paths<button id="copy-code-python3ok-qpaths" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qpaths").onclick = () => copyCode('python3 ok -q paths', "copy-code-python3ok-qpaths");
        </script>
        <br/>


<h3 id="q3-partition">Q3: Partition</h3>


<p>The number of partitions of a positive integer <code>n</code> is the number of
ways in which <code>n</code> can be expressed as the sum of positive integers in
increasing order. For example, the number <code>5</code> has <code>7</code> partitions.</p>

<pre><code>5 = 5
5 = 1 + 4
5 = 2 + 3
5 = 1 + 1 + 3
5 = 1 + 2 + 2
5 = 1 + 1 + 1 + 2
5 = 1 + 1 + 1 + 1 + 1</code></pre>

<p>Write a tree-recursive function <code>partition(n)</code> that returns the number of
partitions of <code>n</code>.</p>

<p>Hint: Introduce a helper function that computes partitions of <code>n</code> using
only a subset of the integers less than or equal to <code>n</code>. Once you have
done so, you can use very similar logic to the <code>count_change</code> function
from the lecture notes:</p>

<solution>

<pre><code>def partition(n):
    &quot;&quot;&quot;Return the number of partitions of positive integer n.

    &gt;&gt;&gt; partition(5)
    7
    &gt;&gt;&gt; partition(10)
    42
    &gt;&gt;&gt; partition(15)
    176
    &gt;&gt;&gt; partition(20)
    627
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q partition<button id="copy-code-python3ok-qpartition" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qpartition").onclick = () => copyCode('python3 ok -q partition', "copy-code-python3ok-qpartition");
        </script>
        <br/>


<h2 id="check-your-score-locally">Check Your Score Locally</h2>

<p>You can locally check your score on each question of this assignment by running</p>

<pre><code>python3 ok &#x2d;&#x2d;score</code></pre>

<p><strong>This does NOT submit the assignment!</strong> When you are satisfied with your score, submit the assignment to Gradescope to receive credit for it.</p>


<h1 id="submit-assignment">Submit Assignment</h1>


<p>Submit this assignment by uploading any files you've edited <strong>to the appropriate Gradescope assignment.</strong> <a href="../lab00/#submit-with-gradescope">Lab 00</a> has detailed instructions.</p>
<script>
    $('.alwaystoggle').css('display', 'inline-block');
    $('.alwaystoggle').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
</script>

  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#topics">Topics</a></li>
  <li><a href="#required-questions">Required Questions</a></li>
  <ul>
    <li><a href="#q1-fibonacci">Q1: Fibonacci</a></li>
    <li><a href="#q2-insect-combinatorics">Q2: Insect Combinatorics</a></li>
    <li><a href="#q3-partition">Q3: Partition</a></li>
  </ul>
  <ul>
    <li><a href="#check-your-score-locally">Check Your Score Locally</a></li>
  </ul>
  <li><a href="#submit-assignment">Submit Assignment</a></li>
</ul>
    </nav>
  </div>
</div>

    </main>

    <!-- <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/weekly">Weekly Schedule</a></li>
            <li><a href="/office-hours">Office Hours</a></li>
            <li><a href="/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/studying">Studying Guide</a></li>
            <li><a href="/articles/debugging">Debugging Guide</a></li>
            <li><a href="/articles/composition">Composition Guide</a></li>
            <li><a href="/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/about#assignments">Assignments</a></li>
            <li><a href="/articles/about#exams">Exams</a></li>
            <li><a href="/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer> -->

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="/su25/assets/js/network_storage.js"></script>
    <script src="/su25/assets/js/code_tabindex.js"></script>
    <script src="/su25/assets/js/storable.js"></script>
    <script src="/su25/assets/js/editor.js"></script>
    <script src="/su25/assets/js/copy-button.js"></script>
    <script src="/su25/assets/js/env-diagram.js"></script>
    
<!-- <script src="/assets/js/sketchy.js"></script> -->
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="Data C88C: Computational Structures in Data Science" />
    <meta name="keywords" content ="Computer Science, Programming, Berkeley, EECS" />
    <meta name="author" content ="Eric Kim" />
    <!-- CHANGED CAREFUL -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/su25/assets/js/hl.js"></script>
    <script src="/su25/assets/js/toggledarkmode.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="/su25/assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="/su25/assets/css/style.css">
    <link rel="stylesheet" href="/su25/assets/css/mono-blue.css">
    <link rel="icon" href="/su25/assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="/assets/css/hw.css">


    <title>
Homework 9 Solutions | Data C88C Summer 2025
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section" aria-label="Toggle Navigation Bar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/su25/">
            Data C88C
            <!-- <img style="max-width:60px; margin-top: -20px;" class="logo" src="/assets/images/logo.png"/> -->
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">

            
            <li><a href="/su25/">Schedule</a></li>
            
            <li><a href="/su25/articles/about-c88c/">Syllabus</a></li>
            
            <li><a href="https://edstem.org/us/courses/79702/discussion/">Ed</a></li>
            
            <li><a href="/su25/office-hours/">Google Calendar</a></li>
            
            <li><a href="/su25/articles/contact-c88c/">Contact</a></li>
            

            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="https://www.gradescope.com/courses/1053326">Gradescope</a></li>
                
                <li><a href="https://bcourses.berkeley.edu/courses/1545181/external_tools/90481">Lecture Recordings</a></li>
                
                <li><a href="https://pythontutor.com/cp/composingprograms.html">Python Tutor</a></li>
                
                <li><a href="https://bcourses.berkeley.edu/courses/1545181/">bCourses</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/su25/resources/">Past Exams & Websites</a></li>
                
                <li><a href="https://www.composingprograms.com">Textbook</a></li>
                
                <li><a href="https://drive.google.com/file/d/1O72u0ml65pibcjz-PXKpqeJDKaVqQ3D8/view">Debugging Guide</a></li>
                
                <li><a href="/su25/articles/studying/">Studying Guide</a></li>
                
                <li><a href="/su25/articles/composition/">Composition Guide</a></li>
                
                <li><a href="/su25/articles/campus-res/">Campus Resources</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/su25/instructor">Instructors</a></li>
                
                <li><a href="/su25/staff">TAs & Tutors</a></li>
                
              </ul>
            </li>
            

          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Homework 9 Solutions

        
        
        <ul class="inline-block list-inline">
          <li><a href="hw09.zip" class="label label-outline">hw09.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    
<h2>Solution Files</h2>
<p>You can find the solutions in <a href="hw09.py">hw09.py</a>.</p>

    
<h1 id="required-questions">Required Questions</h1>



<h2 id="trees">Trees</h2>



<h3 id="q1-square">Q1: Square</h3>


<p>Write a function <code>label_squarer</code> that mutates a <code>Tree</code> with numerical labels so
that each label is squared.</p>

<solution>

<pre><code>def label_squarer(t):
    &quot;&quot;&quot;Mutates a Tree t by squaring all its elements.

    &gt;&gt;&gt; t = Tree(1, [Tree(3, [Tree(5)]), Tree(7)])
    &gt;&gt;&gt; label_squarer(t)
    &gt;&gt;&gt; t
    Tree(1, [Tree(9, [Tree(25)]), Tree(49)])
    &quot;&quot;&quot;
<div class="sol-highlight">    t.label = t.label ** 2
    for subtree in t.branches:
        label_squarer(subtree)</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q label_squarer<button id="copy-code-python3ok-qlabel_squarer" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qlabel_squarer").onclick = () => copyCode('python3 ok -q label_squarer', "copy-code-python3ok-qlabel_squarer");
        </script>
        <br/>


<h3 id="q2-add-leaves">Q2: Add Leaves</h3>


<p>Implement <code>add_d_leaves</code>, a function that takes in a <code>Tree</code> instance <code>t</code> and a number <code>v</code>.</p>

<p>We define the depth of a node in <code>t</code> to be the number of edges from the root to that node. The depth of root is therefore 0.</p>

<p>For each node in the tree, you should add <code>d</code> leaves to it, where <code>d</code> is the depth of the node. Every added leaf should have a label of <code>v</code>. If the node at this depth has existing branches, you should add these leaves to the end of that list of branches.</p>

<p>For example, you should be adding 1 leaf with label <code>v</code> to each node at depth 1, 2 leaves to each node at depth 2, and so on.</p>

<p>Here is an example of a tree <code>t</code> (shown on the left) and the result after <code>add_d_leaves</code> is applied with <code>v</code> as 5.
<img class="img-responsive center-block" src="assets/add_leaves.png" alt="add" width="" height=""></p>

<blockquote><p><strong>Hint:</strong> Use a helper function to keep track of the depth!</p>

<p><strong>Hint:</strong> Be careful about when you add the new leaves to the tree.
We only want to add leaves to the original nodes in the tree, not to
the nodes we added.</p></blockquote>

<!-- hack for separate blockquotes -->

<blockquote><p>Take a look at the doctests below and try drawing out the second doctest to visualize how the function is mutating <code>t3</code>.</p></blockquote>

<!-- <code-input add_d_leaves lang:python>

<pre><code>def add_d_leaves(t, v):
    &quot;&quot;&quot;Add d leaves containing v to each node at every depth d.

    &gt;&gt;&gt; t_one_to_four = Tree(1, [Tree(2), Tree(3, [Tree(4)])])
    &gt;&gt;&gt; print(t_one_to_four)
    1
      2
      3
        4
    &gt;&gt;&gt; add_d_leaves(t_one_to_four, 5)
    &gt;&gt;&gt; print(t_one_to_four)
    1
      2
        5
      3
        4
          5
          5
        5

    &gt;&gt;&gt; t0 = Tree(9)
    &gt;&gt;&gt; add_d_leaves(t0, 4)
    &gt;&gt;&gt; t0
    Tree(9)
    &gt;&gt;&gt; t1 = Tree(1, [Tree(3)])
    &gt;&gt;&gt; add_d_leaves(t1, 4)
    &gt;&gt;&gt; t1
    Tree(1, [Tree(3, [Tree(4)])])
    &gt;&gt;&gt; t2 = Tree(2, [Tree(5), Tree(6)])
    &gt;&gt;&gt; t3 = Tree(3, [t1, Tree(0), t2])
    &gt;&gt;&gt; print(t3)
    3
      1
        3
          4
      0
      2
        5
        6
    &gt;&gt;&gt; add_d_leaves(t3, 10)
    &gt;&gt;&gt; print(t3)
    3
      1
        3
          4
            10
            10
            10
          10
          10
        10
      0
        10
      2
        5
          10
          10
        6
          10
          10
        10
    &quot;&quot;&quot;
<div class="sol-highlight">    def add_leaves(t, d):
        for b in t.branches:
            add_leaves(b, d + 1)
        t.branches.extend([Tree(v) for _ in range(d)])
    add_leaves(t, 0)</div></code></pre>

</code-input>

<div class="sol-highlight">
A first thought is to recursively call <code>add_d_leaves</code> on each branch to add the
leaves to the branches. However, notice that each recursive call would need to
know what the current depth is in order to add that many leaves. We could try
initializing a variable within the body of the function, but by now we know
that in order to keep track of changing values across recursive calls we should
use a helper function!

<p>The helper function should take in a tree and a depth value, and we will define
it as a function that adds <code>d</code> leaves to the branches of the root node, <code>d + 1</code>
leaves to the branches of each of the root node's branches, and so on:</p>

<pre><code>def add_leaves(t, d):
    &quot;&quot;&quot;Adds a number of leaves to each node in t equivalent to the depth of
    the node, assuming that the root node is at depth d, the children of
    the root node are at depth d + 1, and so on.&quot;&quot;&quot;
    ...</code></pre>

<p>We don't need a parameter for <code>v</code> since that value won't change and we can
access it from the parent frame. With this function defined as such, we can
call <code>add_leaves</code> with arguments <code>t</code> and 0 to add leaves starting at depth 0.</p>

<pre><code>def add_d_leaves(t, v):
    def add_leaves(t, d):
        &quot;&quot;&quot;Adds a number of leaves to each node in t equivalent to the depth of
        the node, assuming that the root node is at depth d, the children of
        the root node are at depth d + 1, and so on.&quot;&quot;&quot;
        ...
    add_leaves(t, 0)</code></pre>

<p>Inside the helper function, we can now call it recursively on each branch.
Each node's branch is one depth level greater than the node itself, so we
should update <code>d</code> to <code>d + 1</code>:</p>

<pre><code>def add_leaves(t, d):
    for b in t.branches:
        add_leaves(b, d + 1)
    ...</code></pre>

<p>Now that we've made these recursive calls, let's take a step back and look
at our progress. Taking the leap of faith, we know that each recursive call
should've successfully added the correct number of leaves at each node in
each branch. That means that the only step left is to add the correct number
of leaves to the current node!</p>

<p>The parameter <code>d</code> tells us how many leaves to add at this node. Since we are
mutating <code>t</code> to add these leaves, we need to mutate the list of <code>t</code>'s branches.
We know a few different ways to mutatively add elements to a list:<code>insert</code>,
<code>append</code>, and <code>extend</code>. Which one makes most sense to use here? Well, we know that
we have to add <code>d</code> elements to the end of <code>t.branches</code>. Index doesn't matter
so we can rule out <code>insert</code>. <code>append</code> is good for adding a single element, while
<code>extend</code> is useful for adding multiple elements contained in a list, so let's
use <code>extend</code>!</p>

<p>The input to <code>extend</code> should be a list, so how do we create a list with the
leaves that we need? The most concise way is with a list comprehension. To
create each leaf, we call <code>Tree(v)</code>:</p>

<pre><code>[Tree(v) for _ in range(d)]</code></pre>

<p>Now, we just have to extend <code>t.branches</code> by this list:</p>

<pre><code>def add_leaves(t, d):
    for b in t.branches:
        add_leaves(b, d + 1)
    t.branches.extend([Tree(v) for _ in range(d)])</code></pre>

<p>Do we need an explicitly base case? Let's take a look at what happens when <code>t</code>
is a leaf. In that case, <code>t.branches</code> would be an empty list, so we would not
enter the <code>for</code> loop. Then, the function will extend <code>t.branches</code>, which is an
empty list, by a list containing the new leaves. This is exactly the desired
result, so no base case is needed!
</div> --></p>

<solution>

<pre><code>def add_d_leaves(t, v):
    &quot;&quot;&quot;Add d leaves containing v to each node at every depth d.

    &gt;&gt;&gt; t_one_to_four = Tree(1, [Tree(2), Tree(3, [Tree(4)])])
    &gt;&gt;&gt; print(t_one_to_four)
    1
      2
      3
        4
    &gt;&gt;&gt; add_d_leaves(t_one_to_four, 5)
    &gt;&gt;&gt; print(t_one_to_four)
    1
      2
        5
      3
        4
          5
          5
        5

    &gt;&gt;&gt; t0 = Tree(9)
    &gt;&gt;&gt; add_d_leaves(t0, 4)
    &gt;&gt;&gt; t0
    Tree(9)
    &gt;&gt;&gt; t1 = Tree(1, [Tree(3)])
    &gt;&gt;&gt; add_d_leaves(t1, 4)
    &gt;&gt;&gt; t1
    Tree(1, [Tree(3, [Tree(4)])])
    &gt;&gt;&gt; t2 = Tree(2, [Tree(5), Tree(6)])
    &gt;&gt;&gt; t3 = Tree(3, [t1, Tree(0), t2])
    &gt;&gt;&gt; print(t3)
    3
      1
        3
          4
      0
      2
        5
        6
    &gt;&gt;&gt; add_d_leaves(t3, 10)
    &gt;&gt;&gt; print(t3)
    3
      1
        3
          4
            10
            10
            10
          10
          10
        10
      0
        10
      2
        5
          10
          10
        6
          10
          10
        10
    &quot;&quot;&quot;
<div class="sol-highlight">    def add_leaves(t, d):
        for b in t.branches:
            add_leaves(b, d + 1)
        t.branches.extend([Tree(v) for _ in range(d)])
    add_leaves(t, 0)</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q add_d_leaves<button id="copy-code-python3ok-qadd_d_leaves" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qadd_d_leaves").onclick = () => copyCode('python3 ok -q add_d_leaves', "copy-code-python3ok-qadd_d_leaves");
        </script>
        <br/>


<h2 id="check-your-score-locally">Check Your Score Locally</h2>

<p>You can locally check your score on each question of this assignment by running</p>

<pre><code>python3 ok &#x2d;&#x2d;score</code></pre>

<p><strong>This does NOT submit the assignment!</strong> When you are satisfied with your score, submit the assignment to Gradescope to receive credit for it.</p>


<h1 id="submit-assignment">Submit Assignment</h1>


<p>Submit this assignment by uploading any files you've edited <strong>to the appropriate Gradescope assignment.</strong> <a href="/su25/lab/lab00">Lab 00</a> has detailed instructions.</p>

  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#required-questions">Required Questions</a></li>
  <ul>
    <li><a href="#trees">Trees</a></li>
    <ul>
      <li><a href="#q1-square">Q1: Square</a></li>
      <li><a href="#q2-add-leaves">Q2: Add Leaves</a></li>
    </ul>
    <li><a href="#check-your-score-locally">Check Your Score Locally</a></li>
  </ul>
  <li><a href="#submit-assignment">Submit Assignment</a></li>
</ul>
    </nav>
  </div>
</div>

    </main>

    <!-- <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/weekly">Weekly Schedule</a></li>
            <li><a href="/office-hours">Office Hours</a></li>
            <li><a href="/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/studying">Studying Guide</a></li>
            <li><a href="/articles/debugging">Debugging Guide</a></li>
            <li><a href="/articles/composition">Composition Guide</a></li>
            <li><a href="/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/about#assignments">Assignments</a></li>
            <li><a href="/articles/about#exams">Exams</a></li>
            <li><a href="/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer> -->

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="/su25/assets/js/network_storage.js"></script>
    <script src="/su25/assets/js/code_tabindex.js"></script>
    <script src="/su25/assets/js/storable.js"></script>
    <script src="/su25/assets/js/editor.js"></script>
    <script src="/su25/assets/js/copy-button.js"></script>
    <script src="/su25/assets/js/env-diagram.js"></script>
    
<!-- <script src="/assets/js/sketchy.js"></script> -->
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>
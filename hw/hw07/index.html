
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="Data C88C: Computational Structures in Data Science" />
    <meta name="keywords" content ="Computer Science, Programming, Berkeley, EECS" />
    <meta name="author" content ="Eric Kim" />
    <!-- CHANGED CAREFUL -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/su25/assets/js/hl.js"></script>
    <script src="/su25/assets/js/toggledarkmode.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="/su25/assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="/su25/assets/css/style.css">
    <link rel="stylesheet" href="/su25/assets/css/mono-blue.css">
    <link rel="icon" href="/su25/assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="/assets/css/hw.css">


    <title>
Homework 7 | Data C88C Summer 2025
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section" aria-label="Toggle Navigation Bar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/su25/">
            Data C88C
            <!-- <img style="max-width:60px; margin-top: -20px;" class="logo" src="/assets/images/logo.png"/> -->
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">

            
            <li><a href="/su25/">Schedule</a></li>
            
            <li><a href="/su25/articles/about-c88c/">Syllabus</a></li>
            
            <li><a href="https://edstem.org/us/courses/79702/discussion/">Ed</a></li>
            
            <li><a href="/su25/office-hours/">Google Calendar</a></li>
            
            <li><a href="/su25/articles/contact-c88c/">Contact</a></li>
            

            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="https://www.gradescope.com/courses/1053326">Gradescope</a></li>
                
                <li><a href="https://bcourses.berkeley.edu/courses/1545181/external_tools/90481">Lecture Recordings</a></li>
                
                <li><a href="https://pythontutor.com/cp/composingprograms.html">Python Tutor</a></li>
                
                <li><a href="https://bcourses.berkeley.edu/courses/1545181/">bCourses</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/su25/resources/">Past Exams & Websites</a></li>
                
                <li><a href="https://www.composingprograms.com">Textbook</a></li>
                
                <li><a href="https://drive.google.com/file/d/1O72u0ml65pibcjz-PXKpqeJDKaVqQ3D8/view">Debugging Guide</a></li>
                
                <li><a href="/su25/articles/studying/">Studying Guide</a></li>
                
                <li><a href="/su25/articles/composition/">Composition Guide</a></li>
                
                <li><a href="/su25/articles/campus-res/">Campus Resources</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/su25/instructor">Instructors</a></li>
                
                <li><a href="/su25/staff">TAs & Tutors</a></li>
                
              </ul>
            </li>
            

          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Homework 7: OOP

        
        
        <ul class="inline-block list-inline">
          <li><a href="hw07.zip" class="label label-outline">hw07.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    

<p><em>Due by 11:59pm on Tuesday, July 22</em></p>





<h2>Instructions</h2>

<p>Download <a href="hw07.zip">hw07.zip</a>. Inside the archive, you will find a file called
<a href="hw07.py">hw07.py</a>, along with a copy of the <code>ok</code> autograder.</p>

<p><strong>Submission:</strong> When you are done, submit the assignment by uploading all code files you've edited to Gradescope. You may submit more than once before the deadline; only the
final submission will be scored. Check that you have successfully submitted
your code on Gradescope.  See <a
  href="/su25/lab/lab00">Lab 0</a> for more instructions on
submitting assignments.</p>

<p><strong>Using Ok:</strong> If you have any questions about using Ok, please
refer to <a href="/su25/articles/using-ok">this guide.</a>



<p><strong>Grading:</strong> Homework is graded based on
correctness. Each incorrect problem will decrease the total score by one point.
<strong>This homework is out of 2 points.</strong>




    
<h1 id="required-questions">Required Questions</h1>


<br>

        <button id='toggle-1' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Getting Started Videos<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">

<h2 id="getting-started-videos" class="no-toc">Getting Started Videos</h2>


<p>These videos may provide some helpful direction for tackling the coding
problems on this assignment.</p>

<blockquote><p>To see these videos, you should be logged into your berkeley.edu email.</p></blockquote>


            <iframe width="560" height="315" src="https://youtube.com/embed/videoseries?list=PLx38hZJ5RLZeyxkxJFDBFdqcH8in7eY1H"
                frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" aria-label = "c88c-hw7-getstarted"
                allowfullscreen></iframe><p><a href='https://youtu.be/playlist?list=PLx38hZJ5RLZeyxkxJFDBFdqcH8in7eY1H'> YouTube link </a></p>
</div>


<h3 id="q1-email">Q1: Email</h3>


<p>An email system has three classes: <code>Email</code>, <code>Server</code>, and <code>Client</code>. A <code>Client</code> can
<code>compose</code> an email, which it will <code>send</code> to the <code>Server</code>. The <code>Server</code> then delivers it to the
<code>inbox</code> of another <code>Client</code>. To achieve this, a <code>Server</code> has a dictionary called
<code>clients</code> that maps the name of the <code>Client</code> to the <code>Client</code> instance.</p>

<p>Assume that a <code>Client</code> never changes the <code>Server</code> that it uses, and it can only compose an <code>Email</code> using that <code>Server</code>.</p>

<p>Fill in the definitions below to finish the implementation! The <code>Email</code> class
has been completed for you.</p>

<blockquote><p><strong>Important</strong>: Before you start, make sure you read the entire code snippet to understand the relationships between the classes, and pay attention to the parameter type of the methods. Think about what variables you have access to in each method and how can you use them to access the other classes and their methods.</p></blockquote>

<p><strong>Note:</strong></p>

<ul>
  <li>The <code>sender</code> parameter from the <code>__init__(self, msg, sender, recipient_name)</code> method in the <code>Email</code> class is a <code>Client</code> instance.</li>
  <li>The <code>client</code> parameter from the <code>register_client(self, client)</code> method in the <code>Server</code> class is a <code>Client</code> instance.</li>
  <li>The <code>email</code> parameter from the <code>send(self, email)</code> method in the <code>Server</code> class is an <code>Email</code> instance.</li>
</ul>

<solution>

<pre><code>class Email:
    &quot;&quot;&quot;An email has the following instance attributes:

        msg (str): the contents of the message
        sender (Client): the client that sent the email
        recipient_name (str): the name of the recipient (another client)
    &quot;&quot;&quot;
    def __init__(self, msg, sender, recipient_name):
        self.msg = msg
        self.sender = sender
        self.recipient_name = recipient_name

class Server:
    &quot;&quot;&quot;Each Server has one instance attribute called clients that is a
    dictionary from client names to client objects.

    &gt;&gt;&gt; s = Server()
    &gt;&gt;&gt; # Dummy client class implementation for testing only
    &gt;&gt;&gt; class Client:
    ...     def __init__(self, server, name):
    ...         self.inbox = []
    ...         self.server = server
    ...         self.name = name
    &gt;&gt;&gt; a = Client(s, &#x27;Alice&#x27;)
    &gt;&gt;&gt; b = Client(s, &#x27;Bob&#x27;)
    &gt;&gt;&gt; s.register_client(a) 
    &gt;&gt;&gt; s.register_client(b)
    &gt;&gt;&gt; len(s.clients)  # we have registered 2 clients
    2
    &gt;&gt;&gt; all([type(c) == str for c in s.clients.keys()])  # The keys in self.clients should be strings
    True
    &gt;&gt;&gt; all([type(c) == Client for c in s.clients.values()])  # The values in self.clients should be Client instances
    True
    &gt;&gt;&gt; new_a = Client(s, &#x27;Alice&#x27;)  # a new client with the same name as an existing client
    &gt;&gt;&gt; s.register_client(new_a)
    &gt;&gt;&gt; len(s.clients)  # the key of a dictionary must be unique
    2
    &gt;&gt;&gt; s.clients[&#x27;Alice&#x27;] is new_a  # the value for key &#x27;Alice&#x27; should now be updated to the new client new_a
    True
    &gt;&gt;&gt; e = Email(&quot;I love 61A&quot;, b, &#x27;Alice&#x27;)
    &gt;&gt;&gt; s.send(e)
    &gt;&gt;&gt; len(new_a.inbox)  # one email has been sent to new Alice
    1
    &gt;&gt;&gt; type(new_a.inbox[0]) == Email  # a Client&#x27;s inbox is a list of Email instances
    True
    &quot;&quot;&quot;
    def __init__(self):
        self.clients = {}

    def send(self, email):
        &quot;&quot;&quot;Append the email to the inbox of the client it is addressed to.
            email is an instance of the Email class.
        &quot;&quot;&quot;
        ____.inbox.append(email)

    def register_client(self, client):
        &quot;&quot;&quot;Add a client to the clients mapping (which is a 
        dictionary from client names to client instances).
            client is an instance of the Client class.
        &quot;&quot;&quot;
        ____[____] = ____

class Client:
    &quot;&quot;&quot;A client has a server, a name (str), and an inbox (list).

    &gt;&gt;&gt; s = Server()
    &gt;&gt;&gt; a = Client(s, &#x27;Alice&#x27;)
    &gt;&gt;&gt; b = Client(s, &#x27;Bob&#x27;)
    &gt;&gt;&gt; a.compose(&#x27;Hello, World!&#x27;, &#x27;Bob&#x27;)
    &gt;&gt;&gt; b.inbox[0].msg
    &#x27;Hello, World!&#x27;
    &gt;&gt;&gt; a.compose(&#x27;CS 61A Rocks!&#x27;, &#x27;Bob&#x27;)
    &gt;&gt;&gt; len(b.inbox)
    2
    &gt;&gt;&gt; b.inbox[1].msg
    &#x27;CS 61A Rocks!&#x27;
    &gt;&gt;&gt; b.inbox[1].sender.name
    &#x27;Alice&#x27;
    &quot;&quot;&quot;
    def __init__(self, server, name):
        self.inbox = []
        self.server = server
        self.name = name
        server.register_client(____)

    def compose(self, message, recipient_name):
        &quot;&quot;&quot;Send an email with the given message to the recipient.&quot;&quot;&quot;
        email = Email(message, ____, ____)
        self.server.send(email)</code></pre>

</solution>

<blockquote><p>There are two <code>ok</code> tests for this problem. Both tests must pass in order to receive full credit.
You should run them in the order they are presented.
The <code>python3 ok &#x2d;q Server</code> test will test the <code>Server</code> class implementation, and it does not require a correct implementation of the <code>Client</code> class.
The <code>python3 ok &#x2d;q Client</code> test will test both the <code>Server</code> and <code>Client</code> class implementations.
So, make sure to test your <code>Server</code> class implementation first before testing the <code>Client</code> class.</p></blockquote>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q Server
python3 ok -q Client<button id="copy-code-python3ok-qServerpython3ok-qClient" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qServerpython3ok-qClient").onclick = () => copyCode('python3 ok -q Server\npython3 ok -q Client', "copy-code-python3ok-qServerpython3ok-qClient");
        </script>
        <br/>

<h3 id="q2-vending-machine">Q2: Vending Machine</h3>


<p>In this question you'll create a <a href="https://en.wikipedia.org/wiki/Vending_machine">vending machine</a> that sells a single product and provides change when needed.</p>

<p>Implement the <code>VendingMachine</code> class, which models a vending machine for one specific product.
The methods of a <code>VendingMachine</code> object return strings to describe the machine’s status and operations.
Ensure that your output matches <em>exactly</em> with the strings provided in the doctests, including punctuation and spacing.</p>

<blockquote><p>You may find Python's formatted string literals, or <a href="https://docs.python.org/3/tutorial/inputoutput.html#fancier-output-formatting">f-strings</a> useful.
A quick example:</p>

<pre><code>&gt;&gt;&gt; feeling = &#x27;love&#x27;
&gt;&gt;&gt; course = &#x27;Data C88C!&#x27;
&gt;&gt;&gt; combined_string = f&#x27;I {feeling} {course}&#x27;
&gt;&gt;&gt; combined_string
&#x27;I love Data C88C!&#x27;</code></pre></blockquote>

<solution>

<pre><code>class VendingMachine:
    &quot;&quot;&quot;A vending machine that vends some product for some price.

    &gt;&gt;&gt; v = VendingMachine(&#x27;candy&#x27;, 10)
    &gt;&gt;&gt; v.vend()
    &#x27;Nothing left to vend. Please restock.&#x27;
    &gt;&gt;&gt; v.add_funds(15)
    &#x27;Nothing left to vend. Please restock. Here is your $15.&#x27;
    &gt;&gt;&gt; v.restock(2)
    &#x27;Current candy stock: 2&#x27;
    &gt;&gt;&gt; v.vend()
    &#x27;Please add $10 more funds.&#x27;
    &gt;&gt;&gt; v.add_funds(7)
    &#x27;Current balance: $7&#x27;
    &gt;&gt;&gt; v.vend()
    &#x27;Please add $3 more funds.&#x27;
    &gt;&gt;&gt; v.add_funds(5)
    &#x27;Current balance: $12&#x27;
    &gt;&gt;&gt; v.vend()
    &#x27;Here is your candy and $2 change.&#x27;
    &gt;&gt;&gt; v.add_funds(10)
    &#x27;Current balance: $10&#x27;
    &gt;&gt;&gt; v.vend()
    &#x27;Here is your candy.&#x27;
    &gt;&gt;&gt; v.add_funds(15)
    &#x27;Nothing left to vend. Please restock. Here is your $15.&#x27;

    &gt;&gt;&gt; w = VendingMachine(&#x27;soda&#x27;, 2)
    &gt;&gt;&gt; w.restock(3)
    &#x27;Current soda stock: 3&#x27;
    &gt;&gt;&gt; w.restock(3)
    &#x27;Current soda stock: 6&#x27;
    &gt;&gt;&gt; w.add_funds(2)
    &#x27;Current balance: $2&#x27;
    &gt;&gt;&gt; w.vend()
    &#x27;Here is your soda.&#x27;
    &quot;&quot;&quot;
    def __init__(self, product, price):
        &quot;&quot;&quot;Set the product and its price, as well as other instance attributes.&quot;&quot;&quot;
        "*** YOUR CODE HERE ***"

    def restock(self, n):
        &quot;&quot;&quot;Add n to the stock and return a message about the updated stock level.

        E.g., Current candy stock: 3
        &quot;&quot;&quot;
        "*** YOUR CODE HERE ***"

    def add_funds(self, n):
        &quot;&quot;&quot;If the machine is out of stock, return a message informing the user to restock
        (and return their n dollars).

        E.g., Nothing left to vend. Please restock. Here is your $4.

        Otherwise, add n to the balance and return a message about the updated balance.

        E.g., Current balance: $4
        &quot;&quot;&quot;
        "*** YOUR CODE HERE ***"

    def vend(self):
        &quot;&quot;&quot;Dispense the product if there is sufficient stock and funds and
        return a message. Update the stock and balance accordingly.

        E.g., Here is your candy and $2 change.

        If not, return a message suggesting how to correct the problem.

        E.g., Nothing left to vend. Please restock.
              Please add $3 more funds.
        &quot;&quot;&quot;
        "*** YOUR CODE HERE ***"
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q VendingMachine<button id="copy-code-python3ok-qVendingMachine" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qVendingMachine").onclick = () => copyCode('python3 ok -q VendingMachine', "copy-code-python3ok-qVendingMachine");
        </script>
        <br/>


<h2 id="check-your-score-locally">Check Your Score Locally</h2>

<p>You can locally check your score on each question of this assignment by running</p>

<pre><code>python3 ok &#x2d;&#x2d;score</code></pre>

<p><strong>This does NOT submit the assignment!</strong> When you are satisfied with your score, submit the assignment to Gradescope to receive credit for it.</p>

<h1 id="submit-assignment">Submit Assignment</h1>


<p>Submit this assignment by uploading any files you've edited <strong>to the appropriate Gradescope assignment.</strong> <a href="/su25/lab/lab00">Lab 00</a> has detailed instructions.</p>

<script>
    $('.alwaystoggle').css('display', 'inline-block');
    $('.alwaystoggle').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
</script>


  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#instructions">Instructions</a></li>
  <li><a href="#required-questions">Required Questions</a></li>
  <ul>
    <li><a href="#q1-email">Q1: Email</a></li>
    <li><a href="#q2-vending-machine">Q2: Vending Machine</a></li>
  </ul>
  <ul>
    <li><a href="#check-your-score-locally">Check Your Score Locally</a></li>
  </ul>
  <li><a href="#submit-assignment">Submit Assignment</a></li>
</ul>
    </nav>
  </div>
</div>

    </main>

    <!-- <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/weekly">Weekly Schedule</a></li>
            <li><a href="/office-hours">Office Hours</a></li>
            <li><a href="/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/studying">Studying Guide</a></li>
            <li><a href="/articles/debugging">Debugging Guide</a></li>
            <li><a href="/articles/composition">Composition Guide</a></li>
            <li><a href="/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/about#assignments">Assignments</a></li>
            <li><a href="/articles/about#exams">Exams</a></li>
            <li><a href="/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer> -->

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="/su25/assets/js/network_storage.js"></script>
    <script src="/su25/assets/js/code_tabindex.js"></script>
    <script src="/su25/assets/js/storable.js"></script>
    <script src="/su25/assets/js/editor.js"></script>
    <script src="/su25/assets/js/copy-button.js"></script>
    <script src="/su25/assets/js/env-diagram.js"></script>
    
<!-- <script src="/assets/js/sketchy.js"></script> -->
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>